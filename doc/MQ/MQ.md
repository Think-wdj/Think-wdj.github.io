

# 什么是MQ

​       MQ全称为Message Queue（消息队列）：字面理解就是用于存放消息的队列，队列里面存放的是Message。用于解决不同进程/线程之间的通信。生产者将消息放入MQ中，消费者从MQ中获取消息进行消费，从而实现逻辑解耦和物理解耦。生产者只需要依赖MQ不需要依赖其他服务。



# 什么时候用MQ

消息中间件一般两个功能：解耦合，异步处理

换一种说法：

1.**数据驱动的任务依赖**（解耦合）【效果：保持时效性的解耦合】

2.**上游不关心执行结果**（异步处理）【效果：削峰填谷】

3.**上游关心执行结果，但执行结果长**（采用回调网关+MQ）*Eg.跨公网调用微信支付接口*



# 六大MQ

1.RocketMQ

2.RabbitMQ

3.ActiveMQ

4.Redis

5.Kafka

6.ZeroMQ



# 使用MQ会遇见的问题

> > 1.MQ实现延时消息
> >
> > 2.MQ实现消息必达
> >
> > 3.MQ实现幂等性
> >
> > 4.MQ保持消息顺序性
> >
> > 5.MQ消息重复消费
> >
> > 6.MQ消息丢失问题
> >
> > 7.MQ的高可用
> >
> > 8.MQ的队列积压
> >
> > 9.MQ的消息过期
> >
> > 10.MQ的持久化
> >
> > 11.利用实施MQ分布式事务